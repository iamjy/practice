/**
 * @file
 * @author
 * @date
 * @brief
 * @see
 */

/*****************************************************************************
 * Header files
 *****************************************************************************/
#include <stdint.h>
#include <stdio.h>
#include <stddef.h>
#include <stdlib.h>
#include <string.h>
#include <stdarg.h>
#include <errno.h>
#include <assert.h>
#include <time.h>
#include <semaphore.h>
#include <pthread.h>

#include "semaphore.h"

/*****************************************************************************
 * Macro definitions
 *****************************************************************************/

/*****************************************************************************
 * Structures
 *****************************************************************************/

/*****************************************************************************
 * Global variables
 *****************************************************************************/
pthread_t task;

/*****************************************************************************
 * Static variables
 *****************************************************************************/

/*****************************************************************************
 * Extern variables
 *****************************************************************************/

/*****************************************************************************
 * Function prototypes
 *****************************************************************************/
void thread(void);

/*****************************************************************************
 * Function definitions
 *****************************************************************************/
int main(int argc, char const *argv[])
{
	int i = 0, j, val;

	pthread_create(&task, NULL, (void*(*)(void*))thread, NULL);

	while (1) {

			sleep(1);

			i++;

			printf("sem post %d\n", i);
			printf("sem value = %d\n", val);

			if (i > 5)
				break;
	}

	return 0;
}

/** @brief
 *  @param
 *  @return
 */
void thread(void)
{
	int32_t i = 0;
	int32_t val;

	while (1) {
		i++;

		printf("wakeup %d: value = %d\n", i, val);

		if (i > 5)
			break;
	}
}
